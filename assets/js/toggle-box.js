function initTogglePills(){document.querySelectorAll(".toggle-pill").forEach(e=>{const t=document.getElementById(e.dataset.target);e.addEventListener("click",()=>{const s=t.classList.contains("active");document.querySelectorAll(".toggle-pill.rotated").forEach(e=>{collapseBox(document.getElementById(e.dataset.target),e)}),s||expandBox(t,e)})})}function expandBox(e,t){const s=e.closest(".toggle-section.expanded");e.style.display="block",e.style.maxHeight="0px",e.style.opacity="0",e.classList.add("active"),t.classList.add("rotated"),e.offsetHeight,requestAnimationFrame(()=>{e.style.maxHeight=e.scrollHeight+"px",e.style.opacity="1",s&&(s.style.maxHeight=s.scrollHeight+"px")}),e.addEventListener("transitionend",function n(t){"max-height"===t.propertyName&&(e.style.maxHeight="none",s&&(s.style.maxHeight="none"),e.removeEventListener("transitionend",n))})}function collapseBox(e,t){const s=e.closest(".toggle-section.expanded");s&&(s.style.maxHeight=s.scrollHeight+"px"),e.style.maxHeight=e.scrollHeight+"px",e.offsetHeight,e.style.maxHeight="0px",e.style.opacity="0",e.classList.remove("active"),t.classList.remove("rotated"),e.addEventListener("transitionend",function n(t){"max-height"===t.propertyName&&(e.style.display="none",s&&(s.style.maxHeight=s.scrollHeight+"px",setTimeout(()=>s.style.maxHeight="none",0)),e.removeEventListener("transitionend",n))})}document.addEventListener("DOMContentLoaded",initTogglePills);