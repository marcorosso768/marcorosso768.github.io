document.addEventListener("DOMContentLoaded",()=>{const t=window.location.origin;document.querySelectorAll("a[href]:not(.no-external)").forEach(e=>{const r=e.getAttribute("href");if(!r||r.startsWith("#")||r.startsWith("/#")||r.startsWith("javascript:"))return;const n=r.startsWith("mailto:"),s=r.startsWith("tel:");let a=!1;if(r.startsWith("http"))try{a=new URL(r).origin!==t}catch(i){console.warn("Invalid URL in href:",r)}else(n||s)&&(a=!0);a&&(e.classList.add("external"),e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})});