<div class="news">
  {% if site.news != blank %}
    {% assign news_size = site.news | size %}
    <div
      class="table-responsive"
      {% if include.limit and site.announcements.scrollable and news_size > 3 %}
        style="max-height: 60vw"
      {% endif %}
    >
      <table class="table table-sm table-borderless">
        {% assign news = site.news | reverse %}
        {% if include.limit and site.announcements.limit %}
          {% assign news_limit = site.announcements.limit %}
        {% else %}
          {% assign news_limit = news_size %}
        {% endif %}
        {% for item in news limit: news_limit %}
          <tr>
            <th scope="row" style="width: 20%"><span style="color:var(--global-text-color);">{% include date_format.liquid format='short' date=item.date %}</span></th>
            <td>
              {% if item.inline %}
                <span style="color:var(--global-text-color);">{{ item.content | remove: '<p>' | remove: '</p>' | emojify }}</span>
              {% else %}
                <a class="news-title" href="{{ item.url | relative_url }}">{{ item.title }}</a>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
          <tr>
            <th scope="row" style="width: 20%"></th>
            <td>
              <a style="font-style: bold;" href="{% case site.active_lang %}{% when 'it' %}{{ '/it/novita/' | relative_url }}{% when 'es' %}{{ '/es/novedades/' | relative_url }}{% else %}{{ '/news/' | relative_url }}{% endcase %}">
                  {{ site.data[site.active_lang].strings.more }}
              </a>
            </td>
          </tr>
      </table>
    </div>
  {% else %}
    <p>{{ site.data[site.active_lang].strings.no_news }}</p>
  {% endif %}
</div>
